document.addEventListener('DOMContentLoaded', function() {
    const wordsArea = document.getElementById('words-area');
    const sentenceBuilder = document.getElementById('sentence-builder');
    const pointsElement = document.getElementById('points');
    const starsElement = document.getElementById('stars');
    let points = 0;
    let stars = 0;

    const words = document.querySelectorAll('.word-card');
    words.forEach(word => {
        word.addEventListener('dragstart', function(e) {
            e.dataTransfer.setData('text', e.target.textContent);
        });
    });

    sentenceBuilder.addEventListener('dragover', function(e) {
        e.preventDefault();  // 允许放置
    });

    sentenceBuilder.addEventListener('drop', function(e) {
        e.preventDefault();
        const word = e.dataTransfer.getData('text');
        const wordElement = document.createElement('span');
        wordElement.textContent = word;
        wordElement.style.margin = '5px';
        sentenceBuilder.appendChild(wordElement);

        // 每成功构建一个句子增加积分
        points++;
        pointsElement.textContent = points;
        
        if (points % 5 === 0) {  // 每5个句子奖励1颗星星
            stars++;
            starsElement.textContent = '★'.repeat(stars);
        }

        // 加入成功动画
        sentenceBuilder.classList.add('success-animation');
    });
});